import{_ as $e,i as ge,r as $,g as E,q as l,o as c,h as u,j as e,k as s,t,y as Fe,w as p,l as se,z as Qe,s as ye,x as ke,A as Ne,f as pe,B as at,D as Te,E as Xe,G as ne,H as z,F as Z,m as oe,n as re,I as he,a as ze,J as He,K as te,L as Oe,b as Ge,M as Pe,N as it,O as nt,P as Ae,Q as Je,R as ot,S as je,T as ct,d as Ze,U as rt,V as ut,W as dt,p as me,X as Be,Y as pt,u as mt}from"./index-7126fc25.js";import{I as We,M as De,u as Ke,E as et,a as ht}from"./addCompanion-39b5e32d.js";const G=g=>(ye("data-v-989a31de"),g=g(),ke(),g),vt={key:0},gt={class:"flex justify-content-between w-full px-2"},_t={class:"main-stat-box"},ft={class:"flex align-items-center my-1"},bt={class:"ml-1"},$t={class:"stat-value py-1"},yt={class:"main-stat-box"},kt={class:"flex align-items-center my-1"},St={class:"ml-1"},xt={class:"stat-value py-1"},wt={class:"main-stat-box"},Ct={class:"flex align-items-center my-1"},Vt={class:"ml-1"},At={class:"stat-value py-1"},Wt={class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Et={class:"ml-1"},It={class:"stat-value py-1"},Pt={key:0,class:"main-stat-box"},Tt={class:"flex align-items-center my-1"},Dt={class:"ml-1"},Mt={class:"stat-value py-1"},Rt={key:1,class:"main-stat-box"},Lt={class:"flex align-items-center my-1"},Ut={class:"ml-1"},Ft={class:"stat-value py-1"},Ot={class:"main-stat-area flex flex-column mt-2 pb-2"},Nt={class:"section-header py-1 mb-1"},Ht={class:"flex pl-1"},jt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Zt={class:"stat-block pr-2"},Kt={class:"ml-1"},es=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ts={class:"stat-block pr-2"},ss={class:"ml-1"},ls=G(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"section-header py-1 mb-1"},is={class:"flex pl-1"},ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},hs={class:"stat-block pr-2"},vs={class:"ml-1"},gs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),_s={class:"stat-block pr-2"},fs={class:"ml-1"},bs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),$s={class:"lex flex-column"},ys={class:"section-header py-1 mb-1"},ks={class:"flex pl-1"},Ss={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xs={class:"stat-block pr-2"},ws={class:"ml-1"},Cs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Vs={class:"stat-block pr-2"},As={class:"ml-1"},Ws=G(()=>e("div",{class:"flex-grow-1"},null,-1)),qs={class:"stat-block pr-2"},Es={class:"ml-1"},Is=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ps={class:"stat-block pr-2"},Ts={class:"ml-1"},Ds=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ms={class:"stat-block pr-2"},Rs={class:"ml-1"},Ls=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Us={class:"stat-block pr-2"},Fs={class:"ml-1"},Os=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Hs={class:"stat-block pr-2"},js={class:"ml-1"},Bs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),zs={class:"stat-block pr-2"},Gs={class:"ml-1"},Ys=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Js={class:"stat-block pr-2"},Qs={class:"ml-1"},Xs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Zs={class:"stat-block pr-2"},Ks={class:"ml-1"},el=G(()=>e("div",{class:"flex-grow-1"},null,-1)),tl={class:"stat-block pr-2"},sl={class:"ml-1"},ll=G(()=>e("div",{class:"flex-grow-1"},null,-1)),al={class:"stat-block pr-2"},il={class:"ml-1"},nl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ol={class:"flex flex-column"},cl={class:"section-header py-1 mb-1"},rl={class:"flex pl-1"},ul={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},dl={class:"stat-block pr-2"},pl={class:"ml-1"},ml=G(()=>e("div",{class:"flex-grow-1"},null,-1)),hl={class:"stat-block pr-2"},vl={class:"ml-1"},gl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),_l={class:"stat-block pr-2"},fl={class:"ml-1"},bl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),$l={class:"stat-block pr-2"},yl={class:"ml-1"},kl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Sl={class:"stat-block pr-2"},xl={class:"ml-1"},wl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Cl={class:"stat-block pr-2"},Vl={class:"ml-1"},Al=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Wl={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ql={class:"stat-block pr-2"},El={class:"ml-1"},Il=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Pl={class:"stat-block pr-2"},Tl={class:"ml-1"},Dl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ml={class:"stat-block pr-2"},Rl={class:"ml-1"},Ll=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ul={class:"stat-block pr-2"},Fl={class:"ml-1"},Ol=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Nl={class:"stat-block pr-2"},Hl={class:"ml-1"},jl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={class:"flex flex-column"},zl={class:"section-header py-1 mb-1"},Gl={class:"stat-block pr-2 ml-1"},Yl={class:"ml-1"},Jl={class:"flex align-items-center"},Ql={class:"flex align-items-center"},Xl={class:"capitalize"},Zl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Kl={class:"stat-block pr-2 ml-1"},ea={class:"ml-1"},ta=G(()=>e("div",{class:"flex-grow-1"},null,-1)),sa={class:"stat-block pr-2 ml-1"},la={class:"ml-1"},aa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ia={class:"stat-block pr-2 ml-1"},na={class:"ml-1"},oa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ca={class:"stat-block pr-2 ml-1"},ra={class:"ml-1"},ua=G(()=>e("div",{class:"flex-grow-1"},null,-1)),da={__name:"StatDisplay",setup(g){const m=ge("currentCharacter"),{calcElemResistancePercentage:L,calcTotalMastery:o,calcEffectiveHp:i}=Qe(m),V=$(["water","air","earth","fire","melee","distance","berserk","critical","rear"]),Q=["water","air","earth","fire","melee","distance","berserk","critical","rear"];return(h,X)=>{const k=E("p-image"),j=E("p-multiSelect");return l(m)?(c(),u("div",vt,[e("div",gt,[e("div",_t,[e("div",ft,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",bt,t(h.$t("constants.hp")),1)]),e("div",$t,t(l(m).healthPoints),1)]),e("div",yt,[e("div",kt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",St,t(h.$t("characterSheet.statsDisplay.ar")),1)]),e("div",xt,t(l(m).armorPoints),1)]),e("div",wt,[e("div",Ct,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Vt,t(h.$t("constants.ap")),1)]),e("div",At,t(l(m).actionPoints),1)]),e("div",Wt,[e("div",qt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Et,t(h.$t("constants.mp")),1)]),e("div",It,t(l(m).movementPoints),1)]),l(m).class===l(Fe).huppermage.id?(c(),u("div",Pt,[e("div",Tt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Dt,t(h.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Mt,t(l(m).quadrumentalBreeze),1)])):(c(),u("div",Rt,[e("div",Lt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Ut,t(h.$t("constants.wp")),1)]),e("div",Ft,t(l(m).wakfuPoints),1)]))]),e("div",Ot,[e("div",Nt,t(h.$t("constants.elementalMasteries")),1),e("div",Ht,[e("div",jt,[e("div",Bt,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",zt,t(h.$t("characterSheet.statsDisplay.water")),1),Gt,e("span",null,t(l(m).masteries.water),1)]),e("div",Yt,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Jt,t(h.$t("characterSheet.statsDisplay.air")),1),Qt,e("span",null,t(l(m).masteries.air),1)])]),e("div",Xt,[e("div",Zt,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Kt,t(h.$t("characterSheet.statsDisplay.earth")),1),es,e("span",null,t(l(m).masteries.earth),1)]),e("div",ts,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ss,t(h.$t("characterSheet.statsDisplay.fire")),1),ls,e("span",null,t(l(m).masteries.fire),1)])])]),e("div",as,t(h.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",is,[e("div",ns,[e("div",os,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",cs,t(h.$t("characterSheet.statsDisplay.water")),1),rs,e("span",null,t(l(L)(l(m).resistances.water))+"% ("+t(l(m).resistances.water)+")",1)]),e("div",us,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ds,t(h.$t("characterSheet.statsDisplay.air")),1),ps,e("span",null,t(l(L)(l(m).resistances.air))+"% ("+t(l(m).resistances.air)+")",1)])]),e("div",ms,[e("div",hs,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",vs,t(h.$t("characterSheet.statsDisplay.earth")),1),gs,e("span",null,t(l(L)(l(m).resistances.earth))+"% ("+t(l(m).resistances.earth)+")",1)]),e("div",_s,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",fs,t(h.$t("characterSheet.statsDisplay.fire")),1),bs,e("span",null,t(l(L)(l(m).resistances.fire))+"% ("+t(l(m).resistances.fire)+")",1)])])]),e("div",$s,[e("div",ys,t(h.$t("characterSheet.statsDisplay.battle")),1),e("div",ks,[e("div",Ss,[e("div",xs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",ws,t(h.$t("constants.damageInflicted")),1),Cs,e("span",null,t(l(m).stats.damageInflicted)+"%",1)]),e("div",Vs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",As,t(h.$t("characterSheet.statsDisplay.criticalHit")),1),Ws,e("span",null,t(l(m).stats.criticalHit)+"%",1)]),e("div",qs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Es,t(h.$t("constants.initiative")),1),Is,e("span",null,t(l(m).stats.initiative),1)]),e("div",Ps,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ts,t(h.$t("constants.dodge")),1),Ds,e("span",null,t(l(m).stats.dodge),1)]),e("div",Ms,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Rs,t(h.$t("constants.wisdom")),1),Ls,e("span",null,t(l(m).stats.wisdom),1)]),e("div",Us,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Fs,t(h.$t("constants.control")),1),Os,e("span",null,t(l(m).stats.control),1)])]),e("div",Ns,[e("div",Hs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",js,t(h.$t("constants.healsPerformed")),1),Bs,e("span",null,t(l(m).stats.healsPerformed)+"%",1)]),e("div",zs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Gs,t(h.$t("characterSheet.statsDisplay.block")),1),Ys,e("span",null,t(l(m).stats.block)+"%",1)]),e("div",Js,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Qs,t(h.$t("constants.range")),1),Xs,e("span",null,t(l(m).stats.range),1)]),e("div",Zs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Ks,t(h.$t("constants.lock")),1),el,e("span",null,t(l(m).stats.lock),1)]),e("div",tl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",sl,t(h.$t("constants.prospecting")),1),ll,e("span",null,t(l(m).stats.prospecting),1)]),e("div",al,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",il,t(h.$t("constants.forceOfWill")),1),nl,e("span",null,t(l(m).stats.forceOfWill),1)])])])]),e("div",ol,[e("div",cl,t(h.$t("characterSheet.statsDisplay.secondary")),1),e("div",rl,[e("div",ul,[e("div",dl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",pl,t(h.$t("constants.criticalMastery")),1),ml,e("span",null,t(l(m).masteries.critical),1)]),e("div",hl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",vl,t(h.$t("constants.rearMastery")),1),gl,e("span",null,t(l(m).masteries.rear),1)]),e("div",_l,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",fl,t(h.$t("constants.meleeMastery")),1),bl,e("span",null,t(l(m).masteries.melee),1)]),e("div",$l,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",yl,t(h.$t("constants.distanceMastery")),1),kl,e("span",null,t(l(m).masteries.distance),1)]),e("div",Sl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",xl,t(h.$t("constants.healingMastery")),1),wl,e("span",null,t(l(m).masteries.healing),1)]),e("div",Cl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Vl,t(h.$t("constants.berserkMastery")),1),Al,e("span",null,t(l(m).masteries.berserk),1)])]),e("div",Wl,[e("div",ql,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",El,t(h.$t("constants.criticalResistance")),1),Il,e("span",null,t(l(m).resistances.critical),1)]),e("div",Pl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Tl,t(h.$t("constants.rearResistance")),1),Dl,e("span",null,t(l(m).resistances.rear),1)]),e("div",Ml,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Rl,t(h.$t("constants.armorGiven")),1),Ll,e("span",null,t(l(m).stats.armorGiven)+"%",1)]),e("div",Ul,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Fl,t(h.$t("characterSheet.statsDisplay.armorReceived")),1),Ol,e("span",null,t(l(m).stats.armorReceived)+"%",1)]),e("div",Nl,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Hl,t(h.$t("characterSheet.statsDisplay.indirectDamage")),1),jl,e("span",null,t(l(m).stats.indirectDamage)+"%",1)])])])])]),e("div",Bl,[e("div",zl,t(h.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Gl,[s(k,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",Yl,t(h.$t("characterSheet.statsDisplay.totalMastery")),1),s(j,{modelValue:V.value,"onUpdate:modelValue":X[0]||(X[0]=O=>V.value=O),class:"ml-2",options:Q,"show-toggle-all":!1},{value:p(O=>[e("div",Jl,t(h.$t("characterSheet.statsDisplay.numSelected",{num:O.value.length})),1)]),option:p(O=>[e("div",Ql,[e("div",Xl,t(h.$t(`constants.${O.option}Mastery`)),1)])]),_:1},8,["modelValue"]),Zl,e("span",null,t(l(o)(V.value)),1)]),e("div",Kl,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ea,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Water"})),1),ta,e("span",null,t(l(i)("water")),1)]),e("div",sa,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",la,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Air"})),1),aa,e("span",null,t(l(i)("air")),1)]),e("div",ia,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",na,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Earth"})),1),oa,e("span",null,t(l(i)("earth")),1)]),e("div",ca,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ra,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Fire"})),1),ua,e("span",null,t(l(i)("fire")),1)])])])):se("",!0)}}},pa=$e(da,[["__scopeId","data-v-989a31de"]]);const ma=g=>(ye("data-v-c1799ab4"),g=g(),ke(),g),ha={class:"flex align-items-center my-1"},va={class:"entry-label ml-2"},ga=ma(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(g){return(m,L)=>{const o=E("p-image"),i=E("p-inputNumber");return c(),u("div",ha,[s(o,{src:g.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",va,t(g.label),1),ga,s(i,Ne(m.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(g.maxOverride,g.remainingPoints+m.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:g.updateFunction}),null,16,["max","onInput"])])}}},ae=$e(_a,[["__scopeId","data-v-c1799ab4"]]);const Me=g=>(ye("data-v-d18760ce"),g=g(),ke(),g),fa={class:"flex flex-column h-full"},ba={class:"characteristic-panels flex pb-3"},$a={class:"flex flex-column flex-grow-1 mr-1"},ya={class:"characteristics-category-header px-2 py-2"},ka=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Sa={class:"flex flex-column px-2 py-1"},xa={class:"characteristics-category-header px-2 py-2"},wa=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ca={class:"flex flex-column px-2 py-1"},Va={class:"characteristics-category-header px-2 py-2"},Aa=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Wa={class:"flex flex-column px-2 py-1"},qa={class:"flex flex-column flex-grow-1 ml-1"},Ea={class:"characteristics-category-header px-2 py-2"},Ia=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Pa={class:"flex flex-column px-2 py-1"},Ta={class:"characteristics-category-header px-2 py-2"},Da=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ma={class:"flex flex-column px-2 py-1"},Ra={__name:"CharacteristicsTabContent",setup(g,{expose:m}){const L=ge("masterData"),o=ge("currentCharacter"),i=$(!1),V=pe(()=>i.value?10:1);at(()=>{document.addEventListener("keydown",n=>{Q(n)}),document.addEventListener("keyup",n=>{Q(n)})});const Q=n=>{n.shiftKey?i.value=!0:i.value=!1},h=$(o.value.characteristics.intelligence.percentHealthPoints),X=$(o.value.characteristics.intelligence.elementalResistance),k=$(o.value.characteristics.intelligence.barrier),j=$(o.value.characteristics.intelligence.percentHealsReceived),O=$(o.value.characteristics.intelligence.percentArmorHeathPoints),C=$(o.value.characteristics.strength.elementalMastery),I=$(o.value.characteristics.strength.meleeMastery),N=$(o.value.characteristics.strength.distanceMastery),D=$(o.value.characteristics.strength.healthPoints),f=$(o.value.characteristics.agility.lock),H=$(o.value.characteristics.agility.dodge),J=$(o.value.characteristics.agility.initiative),Y=$(o.value.characteristics.agility.lockAndDodge),R=$(o.value.characteristics.agility.forceOfWill),b=$(o.value.characteristics.fortune.percentCriticalHit),U=$(o.value.characteristics.fortune.percentBlock),ee=$(o.value.characteristics.fortune.criticalMastery),B=$(o.value.characteristics.fortune.rearMastery),S=$(o.value.characteristics.fortune.berserkMastery),A=$(o.value.characteristics.fortune.healingMastery),K=$(o.value.characteristics.fortune.rearResistance),le=$(o.value.characteristics.fortune.criticalResistance),M=$(o.value.characteristics.major.actionPoints),W=$(o.value.characteristics.major.movementPointsAndDamage),T=$(o.value.characteristics.major.rangeAndDamage),ie=$(o.value.characteristics.major.wakfuPoints),ue=$(o.value.characteristics.major.controlAndDamage),ve=$(o.value.characteristics.major.percentDamageInflicted),y=$(o.value.characteristics.major.elementalResistance),_=n=>{let a=0;return n==="intelligence"?a=h.value+X.value+k.value+j.value+O.value:n==="strength"?a=C.value+I.value+N.value+D.value:n==="agility"?a=f.value+H.value+J.value+Y.value+R.value:n==="fortune"?a=b.value+U.value+ee.value+B.value+S.value+A.value+K.value+le.value:n==="major"&&(a=M.value+W.value+T.value+ie.value+ue.value+ve.value+y.value),o.value.characteristics.limits[n]-a},F=()=>{o.value.characteristics.intelligence.percentHealthPoints=h.value,o.value.characteristics.intelligence.elementalResistance=X.value,o.value.characteristics.intelligence.barrier=k.value,o.value.characteristics.intelligence.percentHealsReceived=j.value,o.value.characteristics.intelligence.percentArmorHeathPoints=O.value,o.value.characteristics.strength.elementalMastery=C.value,o.value.characteristics.strength.meleeMastery=I.value,o.value.characteristics.strength.distanceMastery=N.value,o.value.characteristics.strength.healthPoints=D.value,o.value.characteristics.agility.lock=f.value,o.value.characteristics.agility.dodge=H.value,o.value.characteristics.agility.initiative=J.value,o.value.characteristics.agility.lockAndDodge=Y.value,o.value.characteristics.agility.forceOfWill=R.value,o.value.characteristics.fortune.percentCriticalHit=b.value,o.value.characteristics.fortune.percentBlock=U.value,o.value.characteristics.fortune.criticalMastery=ee.value,o.value.characteristics.fortune.rearMastery=B.value,o.value.characteristics.fortune.berserkMastery=S.value,o.value.characteristics.fortune.healingMastery=A.value,o.value.characteristics.fortune.rearResistance=K.value,o.value.characteristics.fortune.criticalResistance=le.value,o.value.characteristics.major.actionPoints=M.value,o.value.characteristics.major.movementPointsAndDamage=W.value,o.value.characteristics.major.rangeAndDamage=T.value,o.value.characteristics.major.wakfuPoints=ie.value,o.value.characteristics.major.controlAndDamage=ue.value,o.value.characteristics.major.percentDamageInflicted=ve.value,o.value.characteristics.major.elementalResistance=y.value};Te(L,Xe.debounce(()=>{h.value=o.value.characteristics.intelligence.percentHealthPoints,X.value=o.value.characteristics.intelligence.elementalResistance,k.value=o.value.characteristics.intelligence.barrier,j.value=o.value.characteristics.intelligence.percentHealsReceived,O.value=o.value.characteristics.intelligence.percentArmorHeathPoints,C.value=o.value.characteristics.strength.elementalMastery,I.value=o.value.characteristics.strength.meleeMastery,N.value=o.value.characteristics.strength.distanceMastery,D.value=o.value.characteristics.strength.healthPoints,f.value=o.value.characteristics.agility.lock,H.value=o.value.characteristics.agility.dodge,J.value=o.value.characteristics.agility.initiative,Y.value=o.value.characteristics.agility.lockAndDodge,R.value=o.value.characteristics.agility.forceOfWill,b.value=o.value.characteristics.fortune.percentCriticalHit,U.value=o.value.characteristics.fortune.percentBlock,ee.value=o.value.characteristics.fortune.criticalMastery,B.value=o.value.characteristics.fortune.rearMastery,S.value=o.value.characteristics.fortune.berserkMastery,A.value=o.value.characteristics.fortune.healingMastery,K.value=o.value.characteristics.fortune.rearResistance,le.value=o.value.characteristics.fortune.criticalResistance,M.value=o.value.characteristics.major.actionPoints,W.value=o.value.characteristics.major.movementPointsAndDamage,T.value=o.value.characteristics.major.rangeAndDamage,ie.value=o.value.characteristics.major.wakfuPoints,ue.value=o.value.characteristics.major.controlAndDamage,ve.value=o.value.characteristics.major.percentDamageInflicted,y.value=o.value.characteristics.major.elementalResistance},100));const qe=pe(()=>_("intelligence")<0||_("strength")<0||_("agility")<0||_("fortune")<0||_("major")<0);return m({hasCharacteristicsError:qe}),(n,a)=>{var P,d,x,ce,_e,fe,we,Ee,Ce,Ve,r,q,v,de,Ie;return c(),u("div",fa,[e("div",ba,[e("div",$a,[e("div",{class:ne(["category-wrapper flex flex-column",{error:_("intelligence")<0}])},[e("div",ya,[e("span",null,t(n.$t("characterSheet.characteristicsContent.intelligence")),1),ka,e("span",null,t(_("intelligence"))+"/"+t((x=(d=(P=l(o))==null?void 0:P.characteristics)==null?void 0:d.limits)==null?void 0:x.intelligence)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Sa,[s(ae,{modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=w=>h.value=w),label:n.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":_("intelligence"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:X.value,"onUpdate:modelValue":a[1]||(a[1]=w=>X.value=w),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":_("intelligence"),"update-function":F,"max-override":10,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:k.value,"onUpdate:modelValue":a[2]||(a[2]=w=>k.value=w),label:n.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":_("intelligence"),"update-function":F,"max-override":10,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:j.value,"onUpdate:modelValue":a[3]||(a[3]=w=>j.value=w),label:n.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":_("intelligence"),"update-function":F,"max-override":5,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:O.value,"onUpdate:modelValue":a[4]||(a[4]=w=>O.value=w),label:n.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":_("intelligence"),"update-function":F,"max-override":10,step:V.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:_("strength")<0}])},[e("div",xa,[e("span",null,t(n.$t("characterSheet.characteristicsContent.strength")),1),wa,e("span",null,t(_("strength"))+"/"+t((fe=(_e=(ce=l(o))==null?void 0:ce.characteristics)==null?void 0:_e.limits)==null?void 0:fe.strength)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ca,[s(ae,{modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=w=>C.value=w),label:n.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":_("strength"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:I.value,"onUpdate:modelValue":a[6]||(a[6]=w=>I.value=w),label:n.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":_("strength"),"update-function":F,"max-override":40,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:N.value,"onUpdate:modelValue":a[7]||(a[7]=w=>N.value=w),label:n.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":_("strength"),"update-function":F,"max-override":40,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:D.value,"onUpdate:modelValue":a[8]||(a[8]=w=>D.value=w),label:n.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":_("strength"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:_("agility")<0}])},[e("div",Va,[e("span",null,t(n.$t("characterSheet.characteristicsContent.agility")),1),Aa,e("span",null,t(_("agility"))+"/"+t((Ce=(Ee=(we=l(o))==null?void 0:we.characteristics)==null?void 0:Ee.limits)==null?void 0:Ce.agility)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Wa,[s(ae,{modelValue:f.value,"onUpdate:modelValue":a[9]||(a[9]=w=>f.value=w),label:n.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":_("agility"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:H.value,"onUpdate:modelValue":a[10]||(a[10]=w=>H.value=w),label:n.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":_("agility"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:J.value,"onUpdate:modelValue":a[11]||(a[11]=w=>J.value=w),label:n.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":_("agility"),"update-function":F,"max-override":20,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:Y.value,"onUpdate:modelValue":a[12]||(a[12]=w=>Y.value=w),label:n.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":_("agility"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:R.value,"onUpdate:modelValue":a[13]||(a[13]=w=>R.value=w),label:n.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":_("agility"),"update-function":F,"max-override":20,step:V.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",qa,[e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1",{error:_("fortune")<0}])},[e("div",Ea,[e("span",null,t(n.$t("characterSheet.characteristicsContent.fortune")),1),Ia,e("span",null,t(_("fortune"))+"/"+t((q=(r=(Ve=l(o))==null?void 0:Ve.characteristics)==null?void 0:r.limits)==null?void 0:q.fortune)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Pa,[s(ae,{modelValue:b.value,"onUpdate:modelValue":a[14]||(a[14]=w=>b.value=w),label:n.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":_("fortune"),"update-function":F,"max-override":20,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:U.value,"onUpdate:modelValue":a[15]||(a[15]=w=>U.value=w),label:n.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":_("fortune"),"update-function":F,"max-override":20,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ee.value,"onUpdate:modelValue":a[16]||(a[16]=w=>ee.value=w),label:n.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":_("fortune"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:B.value,"onUpdate:modelValue":a[17]||(a[17]=w=>B.value=w),label:n.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":_("fortune"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:S.value,"onUpdate:modelValue":a[18]||(a[18]=w=>S.value=w),label:n.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":_("fortune"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:A.value,"onUpdate:modelValue":a[19]||(a[19]=w=>A.value=w),label:n.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":_("fortune"),"update-function":F,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:K.value,"onUpdate:modelValue":a[20]||(a[20]=w=>K.value=w),label:n.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":_("fortune"),"update-function":F,"max-override":20,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:le.value,"onUpdate:modelValue":a[21]||(a[21]=w=>le.value=w),label:n.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":_("fortune"),"update-function":F,"max-override":20,step:V.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:_("major")<0}])},[e("div",Ta,[e("span",null,t(n.$t("characterSheet.characteristicsContent.major")),1),Da,e("span",null,t(_("major"))+"/"+t((Ie=(de=(v=l(o))==null?void 0:v.characteristics)==null?void 0:de.limits)==null?void 0:Ie.major)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ma,[s(ae,{modelValue:M.value,"onUpdate:modelValue":a[22]||(a[22]=w=>M.value=w),label:n.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:W.value,"onUpdate:modelValue":a[23]||(a[23]=w=>W.value=w),label:n.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:T.value,"onUpdate:modelValue":a[24]||(a[24]=w=>T.value=w),label:n.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ie.value,"onUpdate:modelValue":a[25]||(a[25]=w=>ie.value=w),label:n.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ue.value,"onUpdate:modelValue":a[26]||(a[26]=w=>ue.value=w),label:n.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ve.value,"onUpdate:modelValue":a[27]||(a[27]=w=>ve.value=w),label:n.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:y.value,"onUpdate:modelValue":a[28]||(a[28]=w=>y.value=w),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":_("major"),"update-function":F,"max-override":1,step:V.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},La=$e(Ra,[["__scopeId","data-v-d18760ce"]]);const tt=g=>(ye("data-v-f117c1a1"),g=g(),ke(),g),Ua={class:"flex align-items-center flex-wrap mt-3"},Fa={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},Oa={class:"checkmarks-container flex gap-2"},Na={class:"rarity-container mt-2"},Ha={class:"flex align-items-center mb-1"},ja=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ba={class:"simple-tooltip"},za={class:"mr-2 ml-1"},Ga={class:"rarity-button-wrapper"},Ya={class:"flex justify-content-center align-items-center"},Ja={class:"simple-tooltip"},Qa={class:"item-types-container mt-2"},Xa={class:"flex align-items-center justify-content-center mb-1 w-full"},Za=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ka={class:"simple-tooltip"},ei={class:"mr-2 ml-1"},ti={class:"simple-tooltip"},si={class:"item-types-button-wrapper"},li={class:"filter-category-wrapper"},ai={class:"flex justify-content-center align-items-center"},ii={class:"simple-tooltip"},ni={class:"filter-category-wrapper"},oi={class:"flex justify-content-center align-items-center"},ci={class:"simple-tooltip"},ri={class:"filter-category-wrapper"},ui={class:"flex justify-content-center align-items-center"},di={class:"simple-tooltip"},pi={class:"filter-list-wrapper mt-3"},mi={class:"px-2 py-1"},hi={class:"px-2 py-1"},vi={__name:"ItemFilters",setup(g){const m=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],o=[z.healthPoints.id,z.healingMastery.id,z.actionPoints.id,z.movementPoints.id,z.rearResistance.id,z.elementalResistance.id,z.fireResistance.id,z.waterResistance.id,z.earthResistance.id,z.airResistance.id,z.elementalMastery.id,z.fireMastery.id,z.earthMastery.id,z.waterMastery.id,z.airMastery.id,z.criticalMastery.id,z.criticalHit.id,z.range.id,z.prospecting.id,z.wisdom.id,z.initiative.id,z.lock.id,z.dodge.id,z.forceOfWill.id,z.rearMastery.id,z.control.id,z.wakfuPoints.id,z.percentBlock.id,z.criticalResistance.id,z.meleeMastery.id,z.distanceMastery.id,z.berserkMastery.id,z.randomElementalMasteries.id,z.randomElementalResistances.id,z.harvestingQuantity.id].map(S=>({value:S,text:z[S].text})),i=ge("itemFilters"),V=$(""),Q=$([i.startLevel,i.endLevel]),h=$([]),X=$(i.rarityFilters),k=$(i.itemTypeFilters),j=$(!1),O=()=>{f()},C=(S,A)=>{A==="min"&&(Q.value[0]=S.value),A==="max"&&(Q.value[1]=S.value),f()},I=()=>{f()},N=(S,A)=>{S.ctrlKey&&i.itemTypeFilters.forEach(K=>{K.id!==A?K.checked=!1:K.checked=!0}),f()},D=(S,A)=>{S.ctrlKey&&i.rarityFilters.forEach(K=>{K.id!==A?K.checked=!1:K.checked=!0}),f()},f=Xe.debounce(S=>{var A;i.searchTerm=V.value,i.startLevel=Q.value[0],i.endLevel=Q.value[1],i.effectFilters=h.value,i.rarityFilters=X.value,S&&((A=S.rawIds)!=null&&A.length)?H(S):i.itemTypeFilters=k.value},100),H=S=>{S.rawIds.forEach(A=>{let K=k.value.find(le=>le.rawId===A);K.checked=S.checked})},J=()=>{let S={type:o[0],comparator:m[2],value:0};h.value.push(S),f()},Y=S=>{let A=h.value.indexOf(S);h.value.splice(A,1),f()},R=()=>{i.resetFilters(),V.value=i.searchTerm,Q.value[0]=i.startLevel,Q.value[1]=i.endLevel,h.value=i.effectFilters,X.value=i.rarityFilters,k.value=i.itemTypeFilters},b=()=>{i.rarityFilters.forEach(S=>{S.checked=!0}),f()},U=()=>{i.rarityFilters.forEach(S=>{S.checked=!1}),f()},ee=()=>{i.itemTypeFilters.forEach(S=>{S.checked=!0}),f()},B=()=>{i.itemTypeFilters.forEach(S=>{S.checked=!1}),f()};return(S,A)=>{const K=E("p-inputText"),le=E("p-inputNumber"),M=E("p-slider"),W=E("p-button"),T=E("tippy"),ie=E("p-image"),ue=E("p-checkbox"),ve=E("p-dropdown");return c(),u(Z,null,[e("div",Ua,[s(K,{modelValue:V.value,"onUpdate:modelValue":A[0]||(A[0]=y=>V.value=y),placeholder:S.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:O},null,8,["modelValue","placeholder"]),e("div",Fa,[s(le,{modelValue:Q.value[0],"onUpdate:modelValue":A[1]||(A[1]=y=>Q.value[0]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:A[2]||(A[2]=y=>C(y,"min"))},null,8,["modelValue"]),s(M,{modelValue:Q.value,"onUpdate:modelValue":A[3]||(A[3]=y=>Q.value=y),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:I},null,8,["modelValue"]),s(le,{modelValue:Q.value[1],"onUpdate:modelValue":A[4]||(A[4]=y=>Q.value[1]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:A[5]||(A[5]=y=>C(y,"max"))},null,8,["modelValue"])]),s(W,{class:"filter-button",label:S.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:R},null,8,["label"])]),e("div",Oa,[e("div",Na,[e("div",Ha,[s(W,{class:"filter-button item-filter-action mr-2",label:S.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:b},null,8,["label"]),s(T,{placement:"top"},{content:p(()=>[e("div",Ba,t(S.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[ja]),_:1}),e("div",za,t(S.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(W,{class:"filter-button item-filter-action",label:S.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:U},null,8,["label"])]),e("div",Ga,[(c(!0),u(Z,null,oe(X.value,y=>(c(),re(T,{key:y.id,duration:"0"},{content:p(()=>[e("div",Ja,t(S.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":_=>y.checked=_,binary:!0,class:"rarity-checkbox",onChange:_=>D(_,y.id)},{icon:p(_=>[e("div",Ya,[s(ie,{class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Qa,[e("div",Xa,[s(W,{class:"filter-button item-filter-action mr-2",label:S.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ee},null,8,["label"]),s(T,{placement:"top"},{content:p(()=>[e("div",Ka,t(S.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Za]),_:1}),e("div",ei,t(S.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(T,null,{content:p(()=>[e("div",ti,t(S.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:p(()=>[s(ue,{modelValue:j.value,"onUpdate:modelValue":A[6]||(A[6]=y=>j.value=y),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(W,{class:"filter-button item-filter-action",label:S.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:B},null,8,["label"])]),e("div",si,[e("div",li,[(c(!0),u(Z,null,oe(k.value.filter(y=>y.category==="armor"),y=>(c(),u(Z,{key:y.id},[!y.advanced||j.value?(c(),re(T,{key:0,duration:"0"},{content:p(()=>[e("div",ii,t(S.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":_=>y.checked=_,binary:!0,class:"item-type-checkbox",onChange:_=>N(_,y.id)},{icon:p(_=>[e("div",ai,[y.rawId?(c(),re(ie,{key:0,class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):se("",!0)],64))),128))]),e("div",ni,[(c(!0),u(Z,null,oe(k.value.filter(y=>y.category==="weapons"),y=>(c(),u(Z,{key:y.id},[!y.advanced||j.value?(c(),re(T,{key:0,duration:"0"},{content:p(()=>[e("div",ci,t(S.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":_=>y.checked=_,binary:!0,class:"item-type-checkbox",onChange:_=>l(f)(y)},{icon:p(_=>[e("div",oi,[y.rawId?(c(),re(ie,{key:0,class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):se("",!0)],64))),128))]),e("div",ri,[(c(!0),u(Z,null,oe(k.value.filter(y=>y.category==="miscellaneous"),y=>(c(),u(Z,{key:y.id},[!y.advanced||j.value?(c(),re(T,{key:0,duration:"0"},{content:p(()=>[e("div",di,t(S.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":_=>y.checked=_,binary:!0,class:"item-type-checkbox",onChange:l(f)},{icon:p(_=>[e("div",ui,[y.rawId?(c(),re(ie,{key:0,class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):se("",!0)],64))),128))])])])]),e("div",pi,[s(W,{icon:"pi pi-plus",class:"filter-button",label:S.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:J},null,8,["label"]),(c(!0),u(Z,null,oe(h.value,y=>(c(),u("div",{key:y.id,class:"filter-entry"},[s(ve,{modelValue:y.type,"onUpdate:modelValue":_=>y.type=_,class:"filter-type-dropdown",options:l(o),filter:"","auto-filter-focus":"","option-label":"text",onChange:l(f)},{value:p(_=>[he(t(S.$t(_.value.text)),1)]),option:p(_=>[e("div",mi,t(S.$t(_.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(ve,{modelValue:y.comparator,"onUpdate:modelValue":_=>y.comparator=_,class:"filter-comparator-dropdown",options:m,"option-label":"text",onChange:l(f)},{value:p(_=>[he(t(_.value.symbol),1)]),option:p(_=>[e("div",hi,t(S.$t(_.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(le,{modelValue:y.value,"onUpdate:modelValue":_=>y.value=_,class:"filter-value-input","allow-empty":!1,onInput:l(f)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(W,{class:"remove-filter-button",icon:"pi pi-trash",onClick:_=>Y(y)},null,8,["onClick"])]))),128))])],64)}}},gi=$e(vi,[["__scopeId","data-v-f117c1a1"]]);const Ye=g=>(ye("data-v-fc9729a1"),g=g(),ke(),g),_i={class:"item-card"},fi={key:0,class:"slot-label text-center pt-1 pb-1"},bi={class:"flex px-2 pt-2"},$i={class:"flex flex-column ml-1"},yi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},ki={class:"flex"},Si={key:0},xi={key:1},wi={key:2,class:"ml-1"},Ci=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),Vi={class:"flex flex-column"},Ai=Ye(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Wi={key:0,class:"item-card-tooltip"},qi={key:0,class:"effect-header existing-item flex pt-2 px-1"},Ei={class:"flex flex-column ml-1"},Ii={class:"item-name mr-2"},Pi={class:"flex"},Ti={key:0},Di={key:1},Mi={key:2,class:"ml-1"},Ri=Ye(()=>e("div",{class:"ml-1"},"(equipped)",-1)),Li={class:"effect-header flex pt-2 px-1"},Ui={class:"flex flex-column ml-1"},Fi={class:"item-name mr-2"},Oi={class:"flex"},Ni={key:0},Hi={key:1},ji={key:2,class:"ml-1"},Bi={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},setup(g){let m=g,L=document;const o=ze(),i=ge("currentCharacter"),{getItemEncyclopediaUrl:V}=Ke(),{equipItem:Q}=He(i),h=pe(()=>{var C,I;let O=m.item.type.validSlots[0];return((C=i.value.equipment[O])==null?void 0:C.id)!==((I=m.item)==null?void 0:I.id)?i.value.equipment[O]:null}),X=(j,O)=>{Q(j,O,o)},k=j=>{let O=V(j);window.open(O,"_blank")};return(j,O)=>{const C=E("p-image"),I=E("p-button"),N=E("tippy");return c(),re(De,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>l(L).body,sticky:g.sticky,"max-width":500},{trigger:p(()=>[e("div",_i,[g.withSlotLabel?(c(),u("div",fi,t(g.item.type.validSlots[0]==="LEFT_HAND"?"Ring":j.$t(l(te)[g.item.type.validSlots[0]].name))+" Slot ",1)):se("",!0),e("div",bi,[s(C,{src:`https://tmktahu.github.io/WakfuAssets/items/${g.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",$i,[e("div",yi,t(j.$t(`items.${g.item.id}`)),1),e("div",ki,[s(C,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(C,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${g.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Oe).includes(g.item.type.id)?(c(),u("div",Si,"Item Level: "+t(g.item.id===12237?"25":"50"),1)):(c(),u("div",xi,"Lvl: "+t(g.item.level),1)),g.item.type.validSlots[0]===l(te).FIRST_WEAPON.id?(c(),u("div",wi,t(g.item.type.disabledSlots.includes(l(te).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])]),Ci,e("div",Vi,[s(I,{icon:"pi pi-plus",class:"action-button mb-1",onClick:O[0]||(O[0]=D=>X(g.item,D))}),s(N,{placement:"left"},{content:p(()=>[Ai]),default:p(()=>[s(I,{icon:"pi pi-question-circle",class:"action-button",onClick:O[1]||(O[1]=D=>k(g.item))})]),_:1})])])])]),content:p(()=>[g.item?(c(),u("div",Wi,[h.value&&g.withComparisons?(c(),u("div",qi,[s(C,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ei,[e("div",Ii,t(j.$t(`items.${h.value.id}`)),1),e("div",Pi,[s(C,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(C,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Oe).includes(h.value.type.id)?(c(),u("div",Ti,"Item Level: "+t(h.value.id===12237?"25":"50"),1)):(c(),u("div",Di,"Lvl: "+t(h.value.level),1)),h.value.type.validSlots[0]===l(te).FIRST_WEAPON.id?(c(),u("div",Mi,t(h.value.type.disabledSlots.includes(l(te).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0),Ri])])])):se("",!0),s(We,{item:g.item,"with-comparisons":g.withComparisons,"with-totals":g.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",Li,[s(C,{src:`https://tmktahu.github.io/WakfuAssets/items/${g.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ui,[e("div",Fi,t(j.$t(`items.${g.item.id}`)),1),e("div",Oi,[s(C,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(C,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${g.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Oe).includes(g.item.type.id)?(c(),u("div",Ni,"Item Level: "+t(g.item.id===12237?"25":"50"),1)):(c(),u("div",Hi,"Lvl: "+t(g.item.level),1)),g.item.type.validSlots[0]===l(te).FIRST_WEAPON.id?(c(),u("div",ji,t(g.item.type.disabledSlots.includes(l(te).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])])])])):se("",!0)]),_:1},8,["append-to","sticky"])}}},st=$e(Bi,[["__scopeId","data-v-fc9729a1"]]),zi={class:"flex align-items-center"},Gi={class:"mx-2"},Yi=e("i",{class:"mdi mdi-information-outline"},null,-1),Ji={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(g){return(m,L)=>{const o=E("p-checkbox"),i=E("tippy");return c(),u("div",zi,[s(o,Ne(m.$attrs,{binary:!0}),null,16),e("div",Gi,t(g.label),1),g.tooltipText?(c(),re(i,{key:0,placement:"left",duration:"0"},{content:p(()=>[e("div",Ji,t(g.tooltipText),1)]),default:p(()=>[Yi]),_:1})):se("",!0)])}}};const lt=g=>(ye("data-v-343c9a4a"),g=g(),ke(),g),Qi={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Xi={class:"flex align-items-center"},Zi={class:"px-2 py-1"},Ki={class:"px-2 py-1"},en=lt(()=>e("div",{class:"flex-grow-1"},null,-1)),tn={class:"ml-2"},sn={class:"flex align-items-center gap-4 mt-2"},ln={key:0,class:"flex"},an={key:0,class:"item-card with-stats"},nn={class:"flex px-2 pt-2"},on={class:"flex flex-column ml-1"},cn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},rn={class:"flex"},un={key:0},dn={key:1},pn={key:2,class:"ml-1"},mn=lt(()=>e("div",{class:"flex-grow-1"},null,-1)),hn={class:"flex flex-column gap-1"},vn={key:1},gn={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},_n={class:"text-center mt-2"},fn={class:"flex justify-content-center"},bn={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},$n={__name:"EquipmentTabContent",setup(g,{expose:m}){const L=ze(),{t:o}=Ge(),i=ge("currentCharacter"),V=ge("currentItemList"),Q=ge("itemListLoading"),h=ge("itemFilters"),X=$(null),k=$(4),{getNumTotalItems:j}=He(),{getItemEncyclopediaUrl:O}=Ke(),C=()=>{k.value=Math.floor((X.value.clientWidth-16)/(D.value?310+5:230+5))};window.addEventListener("resize",C);let I=pe(()=>{let b=[],U=[];return V.value.forEach(ee=>{U.length===k.value?(b.push(U),U=[ee]):U.push(ee)}),U.length>0&&b.push(U),b.length===0&&b.push([]),b});const N=$(!1),D=$(!1),f=$(!1),H=$(!1),J=()=>{N.value=!0,Pe(()=>{C()})};Te(D,()=>{Pe(()=>{N.value=!1,Pe(()=>{N.value=!0,Pe(()=>{C()})})})});const Y=(b,U)=>{let ee=b.type.validSlots.includes(te.LEFT_HAND.id)||b.type.validSlots.includes(te.RIGHT_HAND.id),B=b.type.disabledSlots.includes(te.SECOND_WEAPON.id)&&i.value.equipment[te.SECOND_WEAPON.id]!==null,S=b.type.validSlots[0]===te.SECOND_WEAPON.id&&i.value.equipment[te.FIRST_WEAPON.id]!==null&&i.value.equipment[te.FIRST_WEAPON.id].type.disabledSlots.includes(te.SECOND_WEAPON.id),A=!1,K=null,le=!1,M=null;Object.keys(i.value.equipment).forEach(ie=>{b.rarity===5&&i.value.equipment[ie]!==null&&i.value.equipment[ie].rarity===5&&(A=!0,K=ie),b.rarity===7&&i.value.equipment[ie]!==null&&i.value.equipment[ie].rarity===7&&(le=!0,M=ie)});let W=null;A&&(W=o("characterSheet.equipmentContent.hasRelicWarning")),le&&(W=o("characterSheet.equipmentContent.hasEpicWarning")),B&&(W=o("characterSheet.equipmentContent.twoHandedWeaponWarning")),S&&(W=o("characterSheet.equipmentContent.secondWeaponWarning")),A&&B&&(W=o("characterSheet.equipmentContent.relicAndTwoHandedWarning")),A&&S&&(W=o("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),le&&B&&(W=o("characterSheet.equipmentContent.epicAndTwoHandedWarning")),le&&S&&(W=o("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),B||S||A||le?L.require({group:"popup",target:U.currentTarget,message:W,accept:()=>{ee&&(i.value.equipment[te.LEFT_HAND.id]===null?i.value.equipment[te.LEFT_HAND.id]=b:i.value.equipment[te.RIGHT_HAND.id]=b),B&&(i.value.equipment[te.FIRST_WEAPON.id]=b,i.value.equipment[te.SECOND_WEAPON.id]=null),S&&(i.value.equipment[te.FIRST_WEAPON.id]=null,i.value.equipment[te.SECOND_WEAPON.id]=b),A&&(i.value.equipment[K]=null,i.value.equipment[b.type.validSlots[0]]=b),le&&(i.value.equipment[M]=null,i.value.equipment[b.type.validSlots[0]]=b)}}):ee?i.value.equipment[te.LEFT_HAND.id]===null?i.value.equipment[te.LEFT_HAND.id]=b:i.value.equipment[te.RIGHT_HAND.id]=b:b.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",b.type):i.value.equipment[b.type.validSlots[0]]=b},R=b=>{let U=O(b);window.open(U,"_blank")};return m({showList:J}),(b,U)=>{const ee=E("p-divider"),B=E("p-dropdown"),S=E("p-image"),A=E("p-button"),K=E("p-virtualScroller"),le=E("p-progressSpinner");return c(),u("div",Qi,[s(et,{character:l(i),"with-totals":f.value},null,8,["character","with-totals"]),s(gi),s(ee,{class:"mt-3 mb-2"}),e("div",Xi,[e("div",null,t(b.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(B,{modelValue:l(h).sortBy,"onUpdate:modelValue":U[0]||(U[0]=M=>l(h).sortBy=M),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:l(it)},{value:p(M=>[he(t(b.$t(M.value.label)),1)]),option:p(M=>[e("div",Zi,t(b.$t(M.option.label)),1)]),_:1},8,["modelValue","options"]),s(B,{modelValue:l(h).sortOrder,"onUpdate:modelValue":U[1]||(U[1]=M=>l(h).sortOrder=M),class:"sort-dropdown ml-2","option-label":"label",options:l(nt)},{value:p(M=>[he(t(b.$t(M.value.label)),1)]),option:p(M=>[e("div",Ki,t(b.$t(M.option.label)),1)]),_:1},8,["modelValue","options"]),en,e("div",tn,t(l(V).length)+" "+t(b.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(l(j)())+" "+t(b.$t("characterSheet.equipmentContent.itemsTotal")),1)]),e("div",sn,[s(be,{modelValue:D.value,"onUpdate:modelValue":U[2]||(U[2]=M=>D.value=M),label:b.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(be,{modelValue:f.value,"onUpdate:modelValue":U[3]||(U[3]=M=>f.value=M),label:b.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:H.value,"onUpdate:modelValue":U[4]||(U[4]=M=>H.value=M),label:b.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),N.value&&!l(Q)?(c(),u("div",{key:0,ref_key:"itemResultsWrapper",ref:X,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(K,{items:l(I),"item-size":[D.value?215:65,D.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:p(({item:M})=>[l(I)[0].length>0?(c(),u("div",ln,[(c(!0),u(Z,null,oe(M,(W,T)=>(c(),u(Z,{key:T},[D.value&&W?(c(),u("div",an,[e("div",nn,[s(S,{src:`https://tmktahu.github.io/WakfuAssets/items/${W.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",on,[e("div",cn,t(b.$t(`items.${W.id}`)),1),e("div",rn,[s(S,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${W.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(S,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${W.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Oe).includes(W.type.id)?(c(),u("div",un,t(b.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(W.id===12237?"25":"50"),1)):(c(),u("div",dn,"Lvl: "+t(W.level),1)),W.type.validSlots[0]===l(te).FIRST_WEAPON.id?(c(),u("div",pn,t(W.type.disabledSlots.includes(l(te).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])]),mn,e("div",hn,[s(A,{icon:"pi pi-plus",class:"equip-button",onClick:ie=>Y(W,ie)},null,8,["onClick"]),s(A,{icon:"pi pi-question-circle",class:"equip-button",onClick:ie=>R(W)},null,8,["onClick"])])]),s(We,{"card-mode":"",item:W,"with-totals":f.value,"with-comparisons":H.value},null,8,["item","with-totals","with-comparisons"])])):(c(),re(st,{key:1,item:W,"with-totals":f.value,"with-comparisons":H.value},null,8,["item","with-totals","with-comparisons"]))],64))),128))])):(c(),u("div",vn,t(b.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(c(),u("div",gn,[e("div",_n,t(b.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",fn,[e("div",bn,[s(le,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(le,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},yn=$e($n,[["__scopeId","data-v-343c9a4a"]]);const Se=g=>(ye("data-v-22a133ae"),g=g(),ke(),g),kn={class:"w-full h-full"},Sn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),xn={class:"simple-tooltip"},wn={class:"flex mt-2"},Cn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Vn={class:"disabled-mask"},An=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Wn={key:1,class:"spell-button disabled"},qn={class:"disabled-mask"},En={class:"mt-3"},In=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Pn={class:"simple-tooltip"},Tn={class:"flex mt-2"},Dn={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Mn={key:0},Rn=["onClick"],Ln=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Un={class:"spell-tooltip"},Fn={class:"spell-name px-2 py-1"},On={class:"spell-description px-2 py-1"},Nn=["innerHTML"],Hn={key:0,class:"spell-unlock-number"},jn={class:"flex flex-wrap gap-1"},Bn=["onClick"],zn=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Gn=Se(()=>e("div",{class:"disabled-mask"},null,-1)),Yn={key:0,class:"spell-unlock-number"},Jn={class:"spell-tooltip"},Qn={class:"spell-name px-2 py-1"},Xn={class:"spell-description px-2 py-1"},Zn=["innerHTML"],Kn={class:"flex flex-wrap gap-1"},eo=["onClick"],to=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),so=Se(()=>e("div",{class:"disabled-mask"},null,-1)),lo={key:0,class:"spell-unlock-number"},ao={class:"spell-tooltip"},io={class:"spell-name px-2 py-1"},no={class:"spell-description px-2 py-1"},oo=["innerHTML"],co={__name:"SpellTabContent",setup(g){const m=ge("currentCharacter"),{getClassPassiveSpells:L,getSpellHtml:o,getSpellLevel:i}=ot(m),V=pe(()=>L(m.value.class).sort((N,D)=>{let f=Ae[N.id],H=Ae[D.id];return f-H})),Q=pe(()=>L("all").sort((N,D)=>{let f=Ae[N.id],H=Ae[D.id];return f-H})),h=C=>{C.category===je.passive&&(Object.keys(m.value.spells).forEach(I=>{var N;I.includes(je.passive)&&((N=m.value.spells[I])==null?void 0:N.id)===C.id&&(m.value.spells[I]=null)}),Object.keys(m.value.spells).some(I=>{if(I.includes(je.passive)&&O(parseInt(I.replace("passiveSlot","")))&&m.value.spells[I]===null)return m.value.spells[I]=C,!0}))},X=C=>{m.value.spells[C]=null},k=C=>{let I=!1;return Object.keys(m.value.spells).forEach(N=>{var D;((D=m.value.spells[N])==null?void 0:D.id)===C.id&&(I=!0)}),I},j=C=>{let I=Ae[C.id];return m.value.level>=I},O=C=>{let I=Je[C-1];return m.value.level>=I};return(C,I)=>{const N=E("tippy"),D=E("p-image");return c(),u("div",kn,[e("div",null,[s(N,{placement:"left"},{content:p(()=>[e("div",xn,t(C.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:p(()=>[Sn]),_:1}),he(" "+t(C.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",wn,[e("div",Cn,[(c(),u(Z,null,oe(12,f=>(c(),u(Z,{key:f},[l(m).spells["activeSlot"+f]!==null?(c(),u("div",{key:0,class:"spell-button disabled",onClick:I[0]||(I[0]=H=>X(C.spell))},[e("div",Vn,t(),1),An,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(m).spells["activeSlot"+f].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),u("div",Wn,[s(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",qn,t(),1)]))],64))),64))])]),e("div",En,[s(N,{placement:"left"},{content:p(()=>[e("div",Pn,t(C.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:p(()=>[In]),_:1}),he(" "+t(C.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",Tn,[e("div",Dn,[(c(),u(Z,null,oe(6,f=>(c(),u(Z,{key:f},[l(m).spells["passiveSlot"+f]!==null?(c(),u("div",Mn,[s(N,{duration:"0"},{content:p(()=>[e("div",Un,[e("div",Fn,t(l(m).spells["passiveSlot"+f].name)+" (Level "+t(l(i)(l(m).spells["passiveSlot"+f]))+") ",1),e("div",On,t(l(m).spells["passiveSlot"+f].description),1),e("div",{class:"spell-details",innerHTML:l(o)(l(m).spells["passiveSlot"+f])},null,8,Nn)])]),default:p(()=>[e("div",{class:"spell-button",onClick:H=>X("passiveSlot"+f)},[Ln,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(m).spells["passiveSlot"+f].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Rn)]),_:2},1024)])):(c(),u("div",{key:1,class:ne(["spell-slot",{disabled:!O(f)}])},[s(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),O(f)?se("",!0):(c(),u("div",Hn,t(l(Je)[f-1]),1))],2))],64))),64))]),e("div",jn,[(c(!0),u(Z,null,oe(V.value,f=>(c(),re(N,{key:f.id,duration:"0"},{content:p(()=>[e("div",Jn,[e("div",Qn,t(f.name)+" (Level "+t(l(i)(f))+")",1),e("div",Xn,t(f.description),1),e("div",{class:"spell-details",innerHTML:l(o)(f)},null,8,Zn)])]),default:p(()=>[e("div",{class:ne(["spell-button",{disabled:k(f)||!j(f)}]),onClick:H=>h(f)},[zn,Gn,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${f.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),j(f)?se("",!0):(c(),u("div",Yn,t(l(Ae)[f.id]),1))],10,Bn)]),_:2},1024))),128))]),e("div",Kn,[(c(!0),u(Z,null,oe(Q.value,f=>(c(),re(N,{key:f.id,duration:"0"},{content:p(()=>[e("div",ao,[e("div",io,t(f.name)+" (Level "+t(l(i)(f))+")",1),e("div",no,t(f.description),1),e("div",{class:"spell-details",innerHTML:l(o)(f)},null,8,oo)])]),default:p(()=>[e("div",{class:ne(["spell-button",{disabled:k(f)||!j(f)}]),onClick:H=>h(f)},[to,so,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${f.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),j(f)?se("",!0):(c(),u("div",lo,t(l(Ae)[f.id]),1))],10,eo)]),_:2},1024))),128))])])])}}},ro=$e(co,[["__scopeId","data-v-22a133ae"]]),uo={class:"flex align-items-center"},po={class:"mx-2"},mo=e("i",{class:"mdi mdi-information-outline"},null,-1),ho={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(g){return(m,L)=>{const o=E("p-inputNumber"),i=E("tippy");return c(),u("div",uo,[s(o,Ne(m.$attrs,{class:"number-input"}),null,16),e("div",po,t(g.label),1),s(i,{placement:"left",duration:"0"},{content:p(()=>[e("div",ho,t(g.tooltipText),1)]),default:p(()=>[mo]),_:1})])}}};const Re=g=>(ye("data-v-385dc262"),g=g(),ke(),g),vo={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},go={class:"flex flex-column mt-4"},_o={class:"flex"},fo={class:"flex mt-3"},bo={class:"setting-group flex flex-column mr-3 gap-2"},$o={class:"mb-2"},yo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ko={class:"simple-tooltip"},So={class:"setting-group flex flex-column mr-3"},xo={class:"flex flex-column gap-2"},wo={class:"mb-2"},Co=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Vo={class:"simple-tooltip"},Ao={class:"flex align-items-center"},Wo={class:"mr-2"},qo={class:"px-2 py-1"},Eo={class:"flex align-items-center"},Io={class:"mr-2"},Po={class:"px-2 py-1"},To={class:"flex align-items-center"},Do={class:"mr-2"},Mo={class:"px-2 py-1"},Ro={class:"flex align-items-center"},Lo={class:"mr-2"},Uo={class:"px-2 py-1"},Fo={class:"flex align-items-center"},Oo={class:"mr-2"},No={class:"px-2 py-1"},Ho={class:"flex flex-column"},jo={class:"rarity-container"},Bo={class:"flex align-items-center mb-1"},zo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Go={class:"simple-tooltip"},Yo={class:"mr-2 ml-1"},Jo={class:"rarity-button-wrapper"},Qo={class:"flex justify-content-center align-items-center"},Xo={class:"simple-tooltip"},Zo={class:"setting-group flex flex-column gap-2 mt-2"},Ko={class:"mb-2"},ec=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),tc={class:"simple-tooltip"},sc={key:0,class:"warning-message mt-2 py-1 px-2"},lc={class:"flex align-items-center mt-3"},ac=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),ic=["innerHTML"],nc={class:"flex align-items-center gap-4 mt-2"},oc={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},cc={key:0,class:"error-state px-3 py-3"},rc={key:0,class:"mt-1"},uc={key:1},dc={class:"mt-3"},pc={key:0,class:"mt-2"},mc={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},hc={key:1},vc={class:"flex flex-wrap gap-1 mt-2"},gc={key:2,class:"loading-state px-3 py-3"},_c={class:"mt-2"},fc={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},bc={class:"text-center mt-2"},$c={class:"text-center mb-5 mt-2"},yc={class:"flex justify-content-center"},kc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Sc={__name:"ItemSolverTabContent",setup(g){const{t:m}=Ge(),L=ze(),o=ge("currentCharacter"),{equipItem:i}=He(o),{runCalculations:V,autoBuilderIsReady:Q,itemSet:h,builderLoading:X,builderError:k}=ct(),{createBuildCode:j}=Ze(),O=$(!1),C=$(!1),I=$(!1),N=pe(()=>{if(O.value)return h.value;{let d=Object.keys(o.value.equipment).map(x=>{if(o.value.equipment[x])return o.value.equipment[x].id}).filter(x=>x!==void 0);return h.value?h.value.filter(x=>!d.includes(x.id)):[]}}),D=$(o.value.actionPoints),f=$(o.value.movementPoints),H=$(o.value.stats.range),J=$(o.value.wakfuPoints),Y=$(!1),R=$(!1),b=$(!1),U=$(!1),ee=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],B=[...ee,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],S=$(ee[0]),A=$(ee[0]),K=$(ee[0]),le=$(ee[0]),M=$(ee[0]),W=$(!0),T=$(rt.map(d=>({...d,checked:!0}))),ie=$(!0);Te(Q,()=>{ie.value=!1});const ue=()=>{T.value.forEach(d=>{d.checked=!0})},ve=()=>{T.value.forEach(d=>{d.checked=!1})},y=pe(()=>Q.value),_=pe(()=>j(o.value)),F=$(null);Te([D,f,H,J],()=>{F.value=null,D.value-o.value.actionPoints>=6?F.value=m("characterSheet.itemSolverContent.apWarning"):H.value-o.value.stats.range>5?F.value=m("characterSheet.itemSolverContent.rangeImpossibleWarning"):o.value.level<35?H.value-o.value.stats.range>0&&(F.value=m("characterSheet.itemSolverContent.rangeForLevelWarning")):o.value.level<50?H.value-o.value.stats.range>1?F.value=m("characterSheet.itemSolverContent.rangeForLevelWarning"):D.value-o.value.actionPoints+f.value-o.value.movementPoints>4&&(F.value=m("characterSheet.itemSolverContent.combinedApMpWarning")):o.value.level<80&&H.value-o.value.stats.range>3&&(F.value=m("characterSheet.itemSolverContent.rangeForLevelWarning"))});const qe=async()=>{let d=T.value.filter(ce=>ce.checked).map(ce=>ce.id),x={buildCode:_.value,meleeMasteryPriority:S.value,distanceMasteryPriority:A.value,healingMasteryPriority:K.value,rearMasteryPriority:le.value,berserkMasteryPriority:M.value,fireMastery:Y.value,earthMastery:R.value,waterMastery:b.value,airMastery:U.value,targetApAmount:D.value||0,targetMpAmount:f.value||0,targetRangeAmount:H.value||0,targetWpAmount:J.value||0,selectedRarityIds:d,ignoreEquippedItems:!W.value};V(x)},n=d=>{L.require({group:"popup",target:d.currentTarget,message:m("confirms.willReplaceItems"),accept:()=>{h.value.forEach(x=>{i(x)})}})},a=(d,x)=>{d.ctrlKey&&T.value.forEach(ce=>{ce.id!==x?ce.checked=!1:ce.checked=!0})},P=()=>`<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>'s`;return(d,x)=>{var Ve,r,q;const ce=E("tippy"),_e=E("p-dropdown"),fe=E("p-button"),we=E("p-image"),Ee=E("p-checkbox"),Ce=E("p-progressSpinner");return c(),u("div",vo,[s(et,{character:l(o)},null,8,["character"]),e("div",go,[e("div",_o,[s(be,{modelValue:W.value,"onUpdate:modelValue":x[0]||(x[0]=v=>W.value=v),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",fo,[e("div",bo,[e("div",$o,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",ko,t(d.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:p(()=>[yo]),_:1}),he(" "+t(d.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ue,{modelValue:D.value,"onUpdate:modelValue":x[1]||(x[1]=v=>D.value=v),label:d.$t("constants.actionPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:f.value,"onUpdate:modelValue":x[2]||(x[2]=v=>f.value=v),label:d.$t("constants.movementPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:H.value,"onUpdate:modelValue":x[3]||(x[3]=v=>H.value=v),label:d.$t("constants.range"),"tooltip-text":d.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:J.value,"onUpdate:modelValue":x[4]||(x[4]=v=>J.value=v),label:d.$t("constants.wakfuPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",So,[e("div",xo,[e("div",wo,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",Vo,t(d.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:p(()=>[Co]),_:1}),he(" "+t(d.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",Ao,[e("div",Wo,t(d.$t("constants.meleeMastery")),1),s(_e,{modelValue:S.value,"onUpdate:modelValue":x[5]||(x[5]=v=>S.value=v),class:"condensed-dropdown","option-label":"label",options:ee},{value:p(v=>[he(t(d.$t(v.value.label)),1)]),option:p(v=>[e("div",qo,t(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Eo,[e("div",Io,t(d.$t("constants.distanceMastery")),1),s(_e,{modelValue:A.value,"onUpdate:modelValue":x[6]||(x[6]=v=>A.value=v),class:"condensed-dropdown","option-label":"label",options:ee},{value:p(v=>[he(t(d.$t(v.value.label)),1)]),option:p(v=>[e("div",Po,t(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",To,[e("div",Do,t(d.$t("constants.healingMastery")),1),s(_e,{modelValue:K.value,"onUpdate:modelValue":x[7]||(x[7]=v=>K.value=v),class:"condensed-dropdown","option-label":"label",options:ee},{value:p(v=>[he(t(d.$t(v.value.label)),1)]),option:p(v=>[e("div",Mo,t(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Ro,[e("div",Lo,t(d.$t("constants.rearMastery")),1),s(_e,{modelValue:le.value,"onUpdate:modelValue":x[8]||(x[8]=v=>le.value=v),class:"condensed-dropdown","option-label":"label",options:B},{value:p(v=>[he(t(d.$t(v.value.label)),1)]),option:p(v=>[e("div",Uo,t(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Fo,[e("div",Oo,t(d.$t("constants.berserkMastery")),1),s(_e,{modelValue:M.value,"onUpdate:modelValue":x[9]||(x[9]=v=>M.value=v),class:"condensed-dropdown","option-label":"label",options:B},{value:p(v=>[he(t(d.$t(v.value.label)),1)]),option:p(v=>[e("div",No,t(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",Ho,[e("div",jo,[e("div",Bo,[s(fe,{class:"filter-button item-filter-action mr-2",label:d.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ue},null,8,["label"]),s(ce,{placement:"top"},{content:p(()=>[e("div",Go,t(d.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[zo]),_:1}),e("div",Yo,t(d.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(fe,{class:"filter-button item-filter-action",label:d.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ve},null,8,["label"])]),e("div",Jo,[(c(!0),u(Z,null,oe(T.value,v=>(c(),re(ce,{key:v.id,duration:"0"},{content:p(()=>[e("div",Xo,t(d.$t(v.name)),1)]),default:p(()=>[s(Ee,{modelValue:v.checked,"onUpdate:modelValue":de=>v.checked=de,binary:!0,class:"rarity-checkbox",onChange:de=>a(de,v.id)},{icon:p(de=>[e("div",Qo,[s(we,{class:ne({disabled:!de.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Zo,[e("div",Ko,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",tc,t(d.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:p(()=>[ec]),_:1}),he(" "+t(d.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:Y.value,"onUpdate:modelValue":x[10]||(x[10]=v=>Y.value=v),label:d.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:R.value,"onUpdate:modelValue":x[11]||(x[11]=v=>R.value=v),label:d.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:b.value,"onUpdate:modelValue":x[12]||(x[12]=v=>b.value=v),label:d.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:U.value,"onUpdate:modelValue":x[13]||(x[13]=v=>U.value=v),label:d.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),F.value!==null?(c(),u("div",sc,t(F.value),1)):se("",!0)]),e("div",lc,[s(fe,{class:"py-2 px-3 mr-2",disabled:!y.value,label:(Ve=N.value)!=null&&Ve.length?"Re-Generate Item Set":"Generate Item Set",onClick:qe},null,8,["disabled","label"]),s(fe,{class:"py-2 px-3 mr-2",disabled:!((r=N.value)!=null&&r.length),label:"Equip All Items",onClick:x[14]||(x[14]=v=>n(v))},null,8,["disabled"]),ac,e("div",{innerHTML:d.$t("characterSheet.itemSolverContent.poweredBy",{credit:P()})},null,8,ic)]),e("div",nc,[s(be,{modelValue:O.value,"onUpdate:modelValue":x[15]||(x[15]=v=>O.value=v),label:d.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(be,{modelValue:C.value,"onUpdate:modelValue":x[16]||(x[16]=v=>C.value=v),label:d.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:I.value,"onUpdate:modelValue":x[17]||(x[17]=v=>I.value=v),label:d.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),l(X)?(c(),u("div",fc,[e("div",bc,t(d.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",$c,t(d.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",yc,[e("div",kc,[s(Ce,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ce,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),u("div",oc,[l(k)?(c(),u("div",cc,[l(k).debug?(c(),u("div",rc,t(d.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),u("div",uc,t(d.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",dc,[e("div",null,"Error Code: "+t(l(k).message),1),l(k).debug?(c(),u("div",pc,[e("div",mc,"Debug Code: "+t(l(k).debug),1)])):se("",!0)])])):(q=N.value)!=null&&q.length?(c(),u("div",hc,[e("div",vc,[(c(!0),u(Z,null,oe(N.value,v=>(c(),u("div",{key:v.id,class:"item-card-wrapper"},[s(st,{item:v,"with-slot-label":"","with-comparisons":I.value,"with-totals":C.value},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(c(),u("div",gc,[e("div",null,t(d.$t("characterSheet.itemSolverContent.instructions")),1),e("div",_c,t(d.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},xc=$e(Sc,[["__scopeId","data-v-385dc262"]]);const xe=g=>(ye("data-v-5b428d31"),g=g(),ke(),g),wc={class:"flex h-full"},Cc={class:"flex flex-column"},Vc={class:"mb-2"},Ac={class:"flex"},Wc={class:"mr-2"},qc=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ec={class:"simple-tooltip flex flex-column"},Ic={class:"mb-1"},Pc={class:"mb-1"},Tc={class:"mb-1"},Dc={class:"mb-1"},Mc={class:"mb-1"},Rc={class:"mb-1"},Lc={key:0,class:"item-runes-section flex align-items-center mb-2"},Uc=["onClick"],Fc=["onClick","onDrop","onContextmenu","onDragstart"],Oc={class:"rune-image"},Nc={class:"rune-level"},Hc={class:"simple-tooltip"},jc=["onDrop"],Bc={class:"rune-image"},zc=["onDrop","onClick"],Gc={key:0,class:"sublimation-entry flex align-items-center px-2"},Yc={class:"ml-1"},Jc=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Qc={key:0,class:"item-card-tooltip"},Xc={class:"effect-header flex pt-2 px-1"},Zc={class:"flex flex-column ml-1"},Kc={class:"item-name mr-2"},er={class:"rune-requirements flex justify-content-left gap-1 py-1"},tr=["onDrop","onClick"],sr={class:"px-2",style:{opacity:"0.5"}},lr={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},ar={class:"slot-image"},ir=["onDrop"],nr={class:"info-text"},or={class:"flex mb-2"},cr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},rr={class:"ml-1"},ur={key:1,class:"flex align-items-center px-2 py-2"},dr={class:"ml-1"},pr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),mr={key:0,class:"item-card-tooltip"},hr={class:"effect-header flex pt-2 px-1"},vr={class:"flex flex-column ml-1"},gr={class:"item-name mr-2"},_r={class:"flex justify-content-left py-1 text-xs"},fr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},br={class:"ml-1"},$r={key:1,class:"flex align-items-center px-2 py-2"},yr={class:"ml-1"},kr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Sr={key:0,class:"item-card-tooltip"},xr={class:"effect-header flex pt-2 px-1"},wr={class:"flex flex-column ml-1"},Cr={class:"item-name mr-2"},Vr={class:"flex justify-content-left py-1 text-xs"},Ar={class:"stats-summary"},Wr={class:"text-lg my-1 pl-2"},qr={class:"stats-summary-list flex flex-column"},Er={key:0,class:"summary-entry px-2 py-1"},Ir={class:"ml-2"},Pr={class:"flex px-2 py-1"},Tr={class:"flex ml-2"},Dr={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},Mr=xe(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),Rr={class:"flex flex-column mr-3"},Lr={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},Ur={class:"flex align-items-center justify-content-center"},Fr=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Or={class:"simple-tooltip"},Nr={class:"mx-2"},Hr={class:"rune-options flex flex-column mt-2"},jr=["onDragstart","onClick"],Br={class:"ml-2"},zr=xe(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Gr={class:"ml-3 mt-2"},Yr={key:0,class:"flex flex-column",style:{"min-width":"300px"}},Jr={class:"flex mt-2"},Qr={class:"mx-2"},Xr=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Zr={class:"simple-tooltip"},Kr=["onDragstart"],eu={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},tu={class:"effect-header flex pt-2 px-1"},su={class:"flex flex-column ml-1"},lu={class:"item-name"},au={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},iu={class:"flex mt-2"},nu={class:"mx-2"},ou={class:"mx-2"},cu=["onClick","onDragstart"],ru={class:"ml-1"},uu={class:"effect-header flex pt-2 px-1"},du={class:"flex flex-column ml-1"},pu={class:"item-name"},mu={class:"flex justify-content-left py-1 text-xs"},hu={key:0,class:"flex flex-column px-4 py-2"},vu={class:"mb-2"},gu={class:"ml-2"},_u={__name:"RunesSubsTabContent",setup(g,{expose:m}){const{t:L}=Ge();let o=document;const i=ge("currentCharacter"),{getRuneValue:V}=Qe(),{getRunes:Q,getSublimations:h,canSublimationFit:X}=He(),k=pe(()=>Q().sort((n,a)=>n.shardsParameters.color-a.shardsParameters.color)),j=pe(()=>h().filter(n=>{var a;return n.sublimationParameters.slotColorPattern.length>0&&L(`items.${n.id}`).toLowerCase().includes((a=C.value)==null?void 0:a.toLowerCase())}).sort((n,a)=>L(`items.${n.id}`).localeCompare(L(`items.${a.id}`))).sort((n,a)=>{if(J.value&&N.value){let P=X(i.value.equipment[J.value],n)?1:0;return(X(i.value.equipment[J.value],a)?1:0)-P}else return 0})),O=pe(()=>h().filter(n=>{var a;return qe(n)&&L(`items.${n.id}`).toLowerCase().includes((a=I.value)==null?void 0:a.toLowerCase())&&(n.sublimationParameters.isEpic?D.value:!0)&&(n.sublimationParameters.isRelic?f.value:!0)})),C=$(""),I=$(""),N=$(!0),D=$(!0),f=$(!0),H=$(1),J=$(null),Y=$(null),R=$(null),b=$([{label:L("constants.level"),levelSlider:!0},{label:L("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{Y.value&&(i.value.equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].color===0?i.value.equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].color=i.value.equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].rune.shardsParameters.color:i.value.equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].color=0)}},{label:L("constants.remove"),command:()=>{i.value.equipment[Y.value.itemSlotKey][Y.value.runeSlotKey]=null}}]),U=$(!1),ee=()=>{U.value=!1,Pe(()=>{U.value=!0})},B=pe(()=>{let n={};return Object.keys(i.value.equipment).forEach(a=>{if(i.value.equipment[a]!==null){let P=i.value.equipment[a];for(let d=1;d<=4;d++){let x=P[`runeSlot${d}`];x&&(n[x.rune.id]||(n[x.rune.id]={totalValue:0,rune:x}),n[x.rune.id].totalValue+=V(x.rune,x.level,a))}P.subSlot&&(n[P.subSlot.equipEffects[0].values[0]]||(n[P.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:P.subSlot}),n[P.subSlot.equipEffects[0].values[0]].totalValue+=P.subSlot.equipEffects[0].values[2])}}),i.value.epicSubSlot&&(n[i.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:i.value.epicSubSlot}),i.value.relicSubSlot&&(n[i.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:i.value.relicSubSlot}),n}),S=(n,a)=>{n.stopPropagation(),J.value===a?J.value=null:J.value=a},A=(n,a,P)=>{n.shiftKey&&(i.value.equipment[a][P].color===0?i.value.equipment[a][P].color=i.value.equipment[a][P].rune.shardsParameters.color:i.value.equipment[a][P].color=0),n.ctrlKey&&(R.value.hide(),i.value.equipment[a][P]=null)},K=(n,a,P)=>{i.value.equipment[a][P]&&(Y.value={itemSlotKey:a,runeSlotKey:P},R.value.show(n))},le=(n,a)=>{if(J.value&&i.value.equipment[J.value]!==null){let P=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let d in P)if(i.value.equipment[J.value][P[d]]===null||i.value.equipment[J.value][P[d]]===void 0){i.value.equipment[J.value][P[d]]={rune:a,color:a.shardsParameters.color,level:H.value};break}}},M=(n,a,P,d)=>{n.dataTransfer.dropEffect="move",n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("type",a),a==="rune"&&(n.dataTransfer.setData("rune",JSON.stringify(P)),d&&n.dataTransfer.setData("level",d)),a==="sublimation"&&n.dataTransfer.setData("sublimation",JSON.stringify(P))},W=(n,a,P)=>{try{let d=n.dataTransfer.getData("type");if(d==="rune"&&P.includes("rune")){let x=JSON.parse(n.dataTransfer.getData("rune")),ce=n.dataTransfer.getData("level");i.value.equipment[a][P]={rune:x,color:x.shardsParameters.color,level:ce||H.value}}if(d==="sublimation"){let x=JSON.parse(n.dataTransfer.getData("sublimation"));qe(x)?x.sublimationParameters.isEpic&&P==="epicSubSlot"?i.value.epicSubSlot=x:x.sublimationParameters.isRelic&&P==="relicSubSlot"&&(i.value.relicSubSlot=x):i.value.equipment[a].subSlot=x}}catch(d){console.error(d)}},T=()=>{let n=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(i.value.equipment).forEach(a=>{i.value.equipment[a]&&(n.forEach(P=>{i.value.equipment[a][P]=void 0}),i.value.equipment[a].subSlot=null)})},ie=(n,a,P)=>{i.value[P]=a},ue=n=>{n==="epicSubSlot"?i.value.epicSubSlot=null:n==="relicSubSlot"?i.value.relicSubSlot=null:i.value.equipment[n].subSlot=null},ve=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},y=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},_=n=>Object.keys(te).find(a=>te[a].rawId===n),F=pe(()=>{let n=1;return ut.some((a,P)=>a<=i.value.level?(n=P+1,!1):!0),n}),qe=n=>n.sublimationParameters.isRelic||n.sublimationParameters.isEpic;return Te(()=>i.value.level,()=>{H.value=F.value},{immediate:!0}),m({showLists:ee}),(n,a)=>{const P=E("tippy"),d=E("p-image"),x=E("p-inputNumber"),ce=E("p-button"),_e=E("p-inputText"),fe=E("p-checkbox"),we=E("p-virtualScroller"),Ee=E("p-slider"),Ce=E("p-contextMenu"),Ve=dt("ripple");return c(),u("div",wc,[e("div",Cc,[e("div",Vc,[s(P,{placement:"left",duration:"0"},{content:p(()=>[e("div",Ec,[e("div",Ic,t(n.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",Pc,t(n.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",Tc,t(n.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",Dc,t(n.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",Mc,t(n.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",Rc,t(n.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:p(()=>[e("div",Ac,[e("div",Wc,t(n.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),qc])]),_:1})]),(c(!0),u(Z,null,oe(Object.keys(l(i).equipment),r=>(c(),u(Z,{key:r},[r!=="ACCESSORY"&&r!=="PET"&&r!=="MOUNT"&&r!=="SECOND_WEAPON"?(c(),u(Z,{key:0},[r!=="undefined"&&l(i).equipment[r]?(c(),u("div",Lc,[e("div",{class:ne(["slot-image",{highlighted:J.value===r}]),onClick:q=>S(q,r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,Uc),(c(),u(Z,null,oe(4,q=>(c(),u(Z,{key:q},[l(i).equipment[r][`runeSlot${q}`]?(c(),re(P,{key:0,duration:"0"},{content:p(()=>[e("div",Hc," +"+t(l(V)(l(i).equipment[r][`runeSlot${q}`].rune,l(i).equipment[r][`runeSlot${q}`].level,r))+" "+t(n.$t(`items.${l(i).equipment[r][`runeSlot${q}`].rune.id}`)),1)]),default:p(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:v=>A(v,r,`runeSlot${q}`),onDragover:a[0]||(a[0]=me(()=>{},["prevent"])),onDragenter:a[1]||(a[1]=me(()=>{},["prevent"])),onDrop:v=>W(v,r,`runeSlot${q}`),onContextmenu:v=>K(v,r,`runeSlot${q}`),onDragstart:v=>M(v,"rune",l(i).equipment[r][`runeSlot${q}`].rune,l(i).equipment[r][`runeSlot${q}`].level)},[e("div",Oc,[s(d,{src:y(l(i).equipment[r][`runeSlot${q}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",Nc,t(l(i).equipment[r][`runeSlot${q}`].level),1)],40,Fc)]),_:2},1024)):(c(),u("div",{key:1,class:"rune-drop-zone ml-2",onDragover:a[2]||(a[2]=me(()=>{},["prevent"])),onDragenter:a[3]||(a[3]=me(()=>{},["prevent"])),onDrop:v=>W(v,r,`runeSlot${q}`)},[e("div",Bc,[s(d,{src:ve(null),"image-style":"width: 26px"},null,8,["src"])])],40,jc))],64))),64)),l(i).equipment[r].subSlot?(c(),re(De,{key:0,"append-to":()=>l(o).body,offset:[0,-2],style:{height:"100%"}},{trigger:p(()=>[e("div",{class:ne(["sublimation-drop-zone ml-2",{invalid:!l(X)(l(i).equipment[r],l(i).equipment[r].subSlot)}]),onDragover:a[4]||(a[4]=me(()=>{},["prevent"])),onDragenter:a[5]||(a[5]=me(()=>{},["prevent"])),onDrop:q=>W(q,r,"subSlot"),onClick:q=>ue(r)},[l(i).equipment[r].subSlot?(c(),u("div",Gc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${l(i).equipment[r].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Yc,t(n.$t(`items.${l(i).equipment[r].subSlot.id}`)),1)])):se("",!0),Jc],42,zc)]),content:p(()=>[l(i).equipment[r].subSlot?(c(),u("div",Qc,[e("div",Xc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${l(i).equipment[r].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Zc,[e("div",Kc,t(n.$t(`items.${l(i).equipment[r].subSlot.id}`)),1),e("div",er,[(c(!0),u(Z,null,oe(l(i).equipment[r].subSlot.sublimationParameters.slotColorPattern,(q,v)=>(c(),u("div",{key:v,class:"flex align-items-center"},[s(d,{src:y(q),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(We,{item:l(i).equipment[r].subSlot},null,8,["item"])])):se("",!0)]),_:2},1032,["append-to"])):(c(),u("div",{key:1,class:ne(["sublimation-drop-zone ml-2",{invalid:!l(X)(l(i).equipment[r],l(i).equipment[r].subSlot)}]),onDragover:a[6]||(a[6]=me(()=>{},["prevent"])),onDragenter:a[7]||(a[7]=me(()=>{},["prevent"])),onDrop:q=>W(q,r,"subSlot"),onClick:q=>ue(r)},[e("div",sr,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,tr))])):r!=="undefined"?(c(),u("div",lr,[e("div",ar,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),u(Z,null,oe(4,q=>e("div",{key:q,class:"rune-drop-zone ml-2",onDragover:a[8]||(a[8]=me(()=>{},["prevent"])),onDragenter:a[9]||(a[9]=me(()=>{},["prevent"])),onDrop:v=>W(v,r,`runeSlot${q}`)},null,40,ir)),64)),e("div",nr,t(n.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):se("",!0)],64)):se("",!0)],64))),128)),e("div",or,[s(P,{duration:"0",class:"flex h-full"},{content:p(()=>[l(i).epicSubSlot?(c(),u("div",mr,[e("div",hr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${l(i).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",vr,[e("div",gr,t(n.$t(`items.${l(i).epicSubSlot.id}`)),1),e("div",_r,t(l(i).epicSubSlot.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(l(i).epicSubSlot.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:l(i).epicSubSlot},null,8,["item"])])):se("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:a[10]||(a[10]=me(()=>{},["prevent"])),onDragenter:a[11]||(a[11]=me(()=>{},["prevent"])),onDrop:a[12]||(a[12]=r=>W(r,null,"epicSubSlot")),onClick:a[13]||(a[13]=r=>ue("epicSubSlot"))},[l(i).epicSubSlot?(c(),u("div",cr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${l(i).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",rr,t(n.$t(`items.${l(i).epicSubSlot.id}`)),1)])):(c(),u("div",ur,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",dr,t(n.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),pr],32)]),_:1}),s(P,{duration:"0",class:"flex h-full"},{content:p(()=>[l(i).relicSubSlot?(c(),u("div",Sr,[e("div",xr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${l(i).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",wr,[e("div",Cr,t(n.$t(`items.${l(i).relicSubSlot.id}`)),1),e("div",Vr,t(l(i).relicSubSlot.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(l(i).relicSubSlot.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:l(i).relicSubSlot},null,8,["item"])])):se("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:a[14]||(a[14]=me(()=>{},["prevent"])),onDragenter:a[15]||(a[15]=me(()=>{},["prevent"])),onDrop:a[16]||(a[16]=r=>W(r,null,"relicSubSlot")),onClick:a[17]||(a[17]=r=>ue("relicSubSlot"))},[l(i).relicSubSlot?(c(),u("div",fr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${l(i).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",br,t(n.$t(`items.${l(i).relicSubSlot.id}`)),1)])):(c(),u("div",$r,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",yr,t(n.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),kr],32)]),_:1})]),e("div",Ar,[e("div",Wr,t(n.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",qr,[(c(!0),u(Z,null,oe(Object.keys(B.value),r=>(c(),u(Z,{key:r},[B.value[r].rune?(c(),u("div",Er,[s(d,{src:y(B.value[r].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Ir,"+"+t(B.value[r].totalValue)+" "+t(n.$t(`items.${B.value[r].rune.rune.id}`)),1)])):B.value[r].sublimation?(c(),u("div",{key:1,class:ne(["summary-entry flex-column align-items-start",{warning:B.value[r].totalValue>l(Be)[B.value[r].sublimation.equipEffects[0].values[0]]}])},[e("div",Pr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${B.value[r].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",Tr,[e("span",null,t(n.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:B.value[r].totalValue})),1),s(De,{"append-to":()=>l(o).body,offset:[0,-2],"state-id":`${B.value[r].sublimation.equipEffects[0].values[0]}`,"current-level":B.value[r].totalValue},null,8,["append-to","state-id","current-level"])])]),B.value[r].totalValue>l(Be)[B.value[r].sublimation.equipEffects[0].values[0]]?(c(),u("div",Dr,[Mr,e("span",null,t(n.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:l(Be)[B.value[r].sublimation.equipEffects[0].values[0]]})),1)])):se("",!0)],2)):se("",!0)],64))),128))])])]),e("div",Rr,[e("div",Lr,[e("div",Ur,[s(P,{placement:"left",duration:"0"},{content:p(()=>[e("div",Or,t(n.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:p(()=>[Fr]),_:1}),e("span",Nr,t(n.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(x,{modelValue:H.value,"onUpdate:modelValue":a[18]||(a[18]=r=>H.value=r),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:F.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Hr,[(c(!0),u(Z,null,oe(k.value,r=>(c(),u("div",{key:r.id,class:ne(["rune-draggable mb-1 px-2",{highlighted:J.value&&r.shardsParameters.doubleBonusPosition.includes(l(te)[J.value].rawId)}]),draggable:"true",onDragstart:q=>M(q,"rune",r),onClick:q=>le(q,r)},[s(d,{class:"rune-image",src:ve(r.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Br,"+"+t(l(V)(r,H.value))+" "+t(n.$t(`items.${r.id}`)),1),zr,(c(!0),u(Z,null,oe(r.shardsParameters.doubleBonusPosition,q=>(c(),u("div",{key:q,class:"ml-1"},[s(d,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${_(q)}.png`,class:ne({disabled:!l(i).equipment[_(q)]}),onClick:v=>S(v,_(q))},null,8,["src","class","onClick"])]))),128))],42,jr))),128))])]),e("div",Gr,[s(ce,{label:n.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:T},null,8,["label"])])]),U.value?(c(),u("div",Yr,[s(_e,{modelValue:C.value,"onUpdate:modelValue":a[19]||(a[19]=r=>C.value=r),class:"py-2 px-2",placeholder:n.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",Jr,[s(fe,{modelValue:N.value,"onUpdate:modelValue":a[20]||(a[20]=r=>N.value=r),binary:!0},null,8,["modelValue"]),e("div",Qr,t(n.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(P,{placement:"top"},{content:p(()=>[e("div",Zr,t(n.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:p(()=>[Xr]),_:1})]),j.value?(c(),re(we,{key:0,items:j.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:r})=>[s(De,{"append-to":()=>l(o).body,offset:[0,-2]},{trigger:p(()=>{var q,v;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{highlighted:l(X)(l(i).equipment[J.value],r)}]),draggable:"true",onDragstart:de=>M(de,"sublimation",r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(v=(q=r.sublimationParameters)==null?void 0:q.slotColorPattern)!=null&&v.length?(c(),u("div",eu,[(c(!0),u(Z,null,oe(r.sublimationParameters.slotColorPattern,(de,Ie)=>(c(),u("div",{key:Ie,class:"flex align-items-center"},[s(d,{src:y(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):se("",!0),e("div",null,t(n.$t(`items.${r.id}`)),1)],42,Kr)]}),content:p(()=>{var q,v;return[e("div",tu,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",su,[e("div",lu,t(n.$t(`items.${r.id}`)),1),(v=(q=r.sublimationParameters)==null?void 0:q.slotColorPattern)!=null&&v.length?(c(),u("div",au,[(c(!0),u(Z,null,oe(r.sublimationParameters.slotColorPattern,(de,Ie)=>(c(),u("div",{key:Ie,class:"flex align-items-center"},[s(d,{src:y(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):se("",!0)])]),s(We,{item:r},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):se("",!0),s(_e,{modelValue:I.value,"onUpdate:modelValue":a[21]||(a[21]=r=>I.value=r),class:"py-2 px-2",placeholder:n.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",iu,[s(fe,{modelValue:D.value,"onUpdate:modelValue":a[22]||(a[22]=r=>D.value=r),binary:!0},null,8,["modelValue"]),e("div",nu,t(n.$t("constants.epic")),1),s(fe,{modelValue:f.value,"onUpdate:modelValue":a[23]||(a[23]=r=>f.value=r),binary:!0},null,8,["modelValue"]),e("div",ou,t(n.$t("constants.relic")),1)]),O.value?(c(),re(we,{key:1,items:O.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:r})=>[s(De,{"append-to":()=>l(o).body,offset:[0,-2]},{trigger:p(()=>{var q,v;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((q=l(i).epicSubSlot)==null?void 0:q.id)===r.id,"relic-highlighted":((v=l(i).relicSubSlot)==null?void 0:v.id)===r.id}]),draggable:"true",onClick:de=>ie(de,r,r.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:de=>M(de,"sublimation",r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",ru,t(n.$t(`items.${r.id}`))+" "+t(r.sublimationParameters.isEpic?`(${n.$t("constants.epic")})`:"")+" "+t(r.sublimationParameters.isRelic?`(${n.$t("constants.relic")})`:""),1)],42,cu)]}),content:p(()=>[e("div",uu,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",du,[e("div",pu,t(n.$t(`items.${r.id}`)),1),e("div",mu,t(r.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(r.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:r},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):se("",!0)])):se("",!0),s(Ce,{ref_key:"runeContextMenu",ref:R,model:b.value},{item:p(({item:r,props:q})=>[r.levelSlider?(c(),u("div",hu,[e("div",vu,t(n.$t("constants.level"))+": "+t(l(i).equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].level),1),s(Ee,{modelValue:l(i).equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].level,"onUpdate:modelValue":a[24]||(a[24]=v=>l(i).equipment[Y.value.itemSlotKey][Y.value.runeSlotKey].level=v),min:1,max:11},null,8,["modelValue"])])):pt((c(),u("a",Ne({key:1,class:"flex align-items-center"},q.action),[e("span",gu,t(r.label),1)],16)),[[Ve]])]),_:1},8,["model"])])}}},fu=$e(_u,[["__scopeId","data-v-5b428d31"]]);const Le=g=>(ye("data-v-bf87d427"),g=g(),ke(),g),bu={class:"top-bar py-3 px-3"},$u={key:0,class:"flex align-items-center pl-2"},yu={class:"py-2"},ku={key:1,class:"flex align-items-center"},Su={class:"py-2"},xu={class:"flex align-items-center"},wu={class:"capitalize"},Cu={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},Vu={class:"mr-2"},Au={class:"flex-grow-1"},Wu=Le(()=>e("div",{class:"flex-grow-1"},null,-1)),qu={class:"build-code flex align-items-center ml-2 mr-3"},Eu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Iu={class:"simple-tooltip"},Pu={class:"ml-2"},Tu={class:"code-disclaimer"},Du=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Mu={class:"simple-tooltip"},Ru={class:"ml-1"},Lu={class:"flex flex-grow-1",style:{overflow:"auto"}},Uu={class:"stats-area pt-3"},Fu={class:"flex flex-column flex-grow-1"},Ou=Le(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),Nu=Le(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),Hu={class:"flex align-items-center px-3 py-3"},ju={class:"flex align-items-center px-3 py-3"},Bu={class:"flex align-items-center px-3 py-3"},zu={class:"flex align-items-center px-3 py-3"},Gu={key:1,class:"px-5 mt-5"},Yu={__name:"CharacterSheet",setup(g){var H,J,Y;const m=mt(),L=ge("currentCharacter"),o=$(null),i=$(null),V=$(null),Q=$((H=L.value)==null?void 0:H.name),h=$((J=L.value)==null?void 0:J.level),X=$(Fe[(Y=L.value)==null?void 0:Y.class]),k=Object.entries(Fe).map(([R,b])=>b),{createBuildCode:j}=Ze(),O=pe(()=>j(L.value));Te(L,()=>{C()});const C=()=>{var R,b,U;Q.value=(R=L.value)==null?void 0:R.name,h.value=(b=L.value)==null?void 0:b.level,X.value=Fe[(U=L.value)==null?void 0:U.class]},I=(R,b)=>{b==="name"?L.value.name=R.target.value:b==="levelText"?L.value.level=R.value:b==="levelSlider"?L.value.level=R:b==="class"&&(L.value.class=R.value.id),C()},N=()=>{Pe(()=>{o.value.showList(),V.value.showLists()})},D=pe(()=>{var R;return(R=i.value)==null?void 0:R.hasCharacteristicsError}),f=()=>{navigator.clipboard.writeText(O.value),m.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(R,b)=>{const U=E("p-inputText"),ee=E("p-image"),B=E("p-dropdown"),S=E("p-inputNumber"),A=E("p-slider"),K=E("tippy"),le=E("p-button"),M=E("p-tabPanel"),W=E("p-tabView");return l(L)?(c(),u("div",{key:l(L).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",bu,[s(U,{modelValue:Q.value,"onUpdate:modelValue":b[0]||(b[0]=T=>Q.value=T),class:"mr-2 py-2 px-2",onInput:b[1]||(b[1]=T=>I(T,"name"))},null,8,["modelValue"]),s(B,{modelValue:X.value,"onUpdate:modelValue":b[2]||(b[2]=T=>X.value=T),options:l(k),placeholder:R.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:b[3]||(b[3]=T=>I(T,"class"))},{value:p(T=>[T.value?(c(),u("div",$u,[s(ee,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${T.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",yu,t(R.$t(T.value.name)),1)])):(c(),u("span",ku,[s(ee,{class:"class-image mx-2",src:l(ht),"image-style":"width: 28px"},null,8,["src"]),e("div",Su,t(T.placeholder),1)]))]),option:p(T=>[e("div",xu,[e("div",wu,t(R.$t(T.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",Cu,[e("span",Vu,t(R.$t("characterSheet.level")),1),s(S,{modelValue:h.value,"onUpdate:modelValue":b[4]||(b[4]=T=>h.value=T),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:b[5]||(b[5]=T=>I(T,"levelText"))},null,8,["modelValue"]),e("div",Au,[s(A,{modelValue:h.value,"onUpdate:modelValue":b[6]||(b[6]=T=>h.value=T),min:1,max:230,onChange:b[7]||(b[7]=T=>I(T,"levelSlider"))},null,8,["modelValue"])])]),Wu,e("div",qu,[s(K,{placement:"left",duration:"0"},{content:p(()=>[e("div",Iu,t(R.$t("characterSheet.buildCopyPaste")),1)]),default:p(()=>[Eu]),_:1}),e("div",Pu,t(R.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:f},[e("span",null,t(O.value),1)]),s(le,{class:"py-1 ml-2 px-2",label:R.$t("characterSheet.copy"),onClick:f},null,8,["label"]),e("div",Tu,[s(K,{placement:"bottom",duration:"0"},{content:p(()=>[e("div",Mu,t(R.$t("characterSheet.codeInfo")),1)]),default:p(()=>[Du]),_:1}),e("div",Ru,t(R.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",Lu,[e("div",Uu,[s(pa)]),e("div",Fu,[s(W,{class:"main-tab-view",onTabChange:N},{default:p(()=>[s(M,null,{header:p(()=>[e("div",{class:ne(["characteristics-tab-header px-3 h-full",{error:D.value,"points-to-spend":!1}])},[e("span",null,t(R.$t("characterSheet.characteristics")),1),Ou,Nu],2)]),default:p(()=>[s(La,{ref_key:"characteristicsTabContent",ref:i},null,512)]),_:1}),s(M,null,{header:p(()=>[e("div",Hu,[e("span",null,t(R.$t("characterSheet.equipment")),1)])]),default:p(()=>[s(yn,{ref_key:"equipmentTabContent",ref:o},null,512)]),_:1}),s(M,null,{header:p(()=>[e("div",ju,[e("span",null,t(R.$t("characterSheet.autoItemSolver")),1)])]),default:p(()=>[s(xc)]),_:1}),s(M,null,{header:p(()=>[e("div",Bu,[e("span",null,t(R.$t("characterSheet.runesAndSubs")),1)])]),default:p(()=>[s(fu,{ref_key:"runesAndSubsTabContent",ref:V},null,512)]),_:1}),s(M,null,{header:p(()=>[e("div",zu,[e("span",null,t(R.$t("characterSheet.spellsAndPassives")),1)])]),default:p(()=>[s(ro)]),_:1})]),_:1})])])])):(c(),u("div",Gu," No Character data found for the given ID. "))}}},Xu=$e(Yu,[["__scopeId","data-v-bf87d427"]]);export{Xu as default};
